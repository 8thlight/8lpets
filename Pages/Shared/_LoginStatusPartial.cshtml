@{
    var user = Context.Items["User"] as _8lpets.Models.User;
    var isLoggedIn = user != null;
}

<div class="login-status-box @(isLoggedIn ? "logged-in" : "logged-out") mb-4">
    @if (isLoggedIn)
    {
        <div class="d-flex align-items-center">
            <i class="fas fa-user-circle text-success me-2 fs-4"></i>
            <div>
                <div class="fw-bold">Logged in as: @(user?.Username ?? "User")</div>
                <div class="small">
                    <span class="me-2">
                        <i class="fas fa-coins me-1"></i>
                        <span class="8lpoints">@(user?.NeoPoints ?? 0) 8lP</span>
                    </span>
                    <span>
                        <i class="fas fa-calendar-alt me-1"></i>
                        Member since: @(user?.JoinDate.ToString("MMM d, yyyy") ?? "Unknown")
                    </span>
                </div>
            </div>
            <div class="ms-auto">
                <a asp-page="/Account/Profile" class="btn btn-sm btn-outline-primary me-1">
                    <i class="fas fa-user-cog me-1"></i> Profile
                </a>
                <a asp-page="/Account/Logout" class="btn btn-sm btn-outline-danger">
                    <i class="fas fa-sign-out-alt me-1"></i> Logout
                </a>
            </div>
        </div>
    }
    else
    {
        <div class="d-flex align-items-center">
            <i class="fas fa-user-slash text-warning me-2 fs-4"></i>
            <div>
                <div class="fw-bold">Not logged in</div>
                <div class="small">Log in to access all features and save your progress</div>
            </div>
            <div class="ms-auto">
                <a asp-page="/Account/Login" class="btn btn-sm btn-outline-primary me-1">
                    <i class="fas fa-sign-in-alt me-1"></i> Login
                </a>
                <a asp-page="/Account/Register" class="btn btn-sm btn-outline-success">
                    <i class="fas fa-user-plus me-1"></i> Register
                </a>
            </div>
        </div>
    }
</div>

<style>
    .login-status-box {
        padding: 10px 15px;
        border-radius: 5px;
        border: 1px solid #dee2e6;
        background-color: #f8f9fa;
    }

    .login-status-box.logged-in {
        border-left: 4px solid #28a745;
    }

    .login-status-box.logged-out {
        border-left: 4px solid #ffc107;
    }
</style>
